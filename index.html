<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Absence Analysis Dashboard - Lee County</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f8fafc; color: #1f2937; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .header h1 { font-size: 24px; color: #1f2937; margin-bottom: 5px; }
        .header p { color: #6b7280; font-size: 14px; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: white; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .stat-number { font-size: 32px; font-weight: bold; margin-bottom: 5px; }
        .stat-label { color: #6b7280; font-size: 14px; }
        .green { color: #16a34a; }
        .blue { color: #3b82f6; }
        .red { color: #ef4444; }
        .chart-section { background: white; padding: 30px; border-radius: 8px; margin-bottom: 30px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .chart-title { font-size: 20px; font-weight: bold; margin-bottom: 10px; }
        .chart-subtitle { color: #6b7280; font-size: 14px; margin-bottom: 20px; }
        .bar-chart { margin: 30px 0; }
        .bar-row { display: flex; align-items: center; margin-bottom: 15px; padding: 10px; background: #f8fafc; border-radius: 6px; }
        .bar-label { width: 150px; font-size: 12px; font-weight: 600; }
        .bar-container { flex: 1; height: 30px; background: #e5e7eb; border-radius: 4px; position: relative; margin: 0 10px; }
        .bar-teacher { height: 100%; background: #3b82f6; border-radius: 4px 0 0 4px; }
        .bar-para { height: 100%; background: #16a34a; border-radius: 0 4px 4px 0; position: absolute; top: 0; }
        .bar-values { width: 120px; font-size: 11px; text-align: right; }
        .fill-rate { font-weight: bold; }
        .table-section { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .table { width: 100%; border-collapse: collapse; font-size: 12px; }
        .table th { background: #f3f4f6; padding: 8px; text-align: left; font-weight: 600; border-bottom: 2px solid #e5e7eb; }
        .table td { padding: 8px; border-bottom: 1px solid #e5e7eb; }
        .table tbody tr:hover { background: #f9fafb; }
        .badge { padding: 3px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; }
        .badge-green { background: #dcfce7; color: #166534; }
        .badge-yellow { background: #fef3c7; color: #92400e; }
        .badge-red { background: #fee2e2; color: #991b1b; }
        .legend { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin: 20px 0; font-size: 14px; }
        .legend-item { display: flex; align-items: center; }
        .legend-color { width: 16px; height: 16px; margin-right: 8px; border-radius: 3px; }
        .two-columns { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px; }
        @media (max-width: 768px) { 
            .two-columns { grid-template-columns: 1fr; }
            .bar-row { flex-direction: column; align-items: stretch; }
            .bar-label { width: 100%; margin-bottom: 5px; }
            .bar-values { width: 100%; text-align: left; margin-top: 5px; }
        }
        .buttons { margin: 20px 0; text-align: center; }
        .btn { padding: 10px 20px; margin: 0 10px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; text-decoration: none; display: inline-block; }
        .btn-blue { background: #3b82f6; color: white; }
        .btn-green { background: #16a34a; color: white; }
        .btn:hover { opacity: 0.9; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üìä Absence Reason Analysis (Top 15)</h1>
            <p>Lee County Annual ABR 2024-2025 | Kelly Education</p>
            
            <div class="buttons">
                <button class="btn btn-blue" onclick="window.print()">üñ®Ô∏è Print/PDF</button>
                <button class="btn btn-green" onclick="copyLink()">üîó Share Link</button>
            </div>
        </div>

        <!-- Key Stats -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number green">94.9%</div>
                <div class="stat-label">Overall Fill Rate</div>
            </div>
            <div class="stat-card">
                <div class="stat-number blue">194,581</div>
                <div class="stat-label">Total Absences</div>
            </div>
            <div class="stat-card">
                <div class="stat-number red">9,946</div>
                <div class="stat-label">Total Unfilled</div>
            </div>
            <div class="stat-card" style="background: #1f2937; color: white;">
                <div style="color: #10b981; font-size: 20px; font-weight: bold;">Para Advantage: +2.3%</div>
                <div style="color: #d1d5db; font-size: 12px;">Paras outperform Teachers consistently</div>
            </div>
        </div>

        <!-- Main Chart -->
        <div class="chart-section">
            <div class="chart-title">Teachers vs Paraprofessionals - Absence Analysis</div>
            <div class="chart-subtitle">üìä Visual comparison of absence totals and fill rates by category</div>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #3b82f6;"></div>
                    <span>Teacher Totals</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #16a34a;"></div>
                    <span>Para Totals</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ef4444; border: 2px dashed #ef4444; background: none;"></div>
                    <span>Teacher Fill Rate % (Red Dashed Line)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #16a34a;"></div>
                    <span>Para Fill Rate % (Green Solid Line)</span>
                </div>
            </div>

            <div class="bar-chart">
                <div class="bar-row">
                    <div class="bar-label">VACANCY</div>
                    <div class="bar-container">
                        <div class="bar-teacher" style="width: 65%;"></div>
                        <div class="bar-para" style="width: 35%; left: 65%;"></div>
                    </div>
                    <div class="bar-values">
                        T: 38,991 (96.4%) <br>
                        P: 20,200 (97.8%)
                    </div>
                </div>

                <div class="bar-row">
                    <div class="bar-label">ILLNESS-SELF</div>
                    <div class="bar-container">
                        <div class="bar-teacher" style="width: 67%;"></div>
                        <div class="bar-para" style="width: 33%; left: 67%;"></div>
                    </div>
                    <div class="bar-values">
                        T: 30,970 (90.0%) <br>
                        P: 15,000 (93.0%)
                    </div>
                </div>

                <div class="bar-row">
                    <div class="bar-label">TEMPORARY DUTY</div>
                    <div class="bar-container">
                        <div class="bar-teacher" style="width: 67%;"></div>
                        <div class="bar-para" style="width: 33%; left: 67%;"></div>
                    </div>
                    <div class="bar-values">
                        T: 24,600 (96.8%) <br>
                        P: 12,000 (97.5%)
                    </div>
                </div>

                <div class="bar-row">
                    <div class="bar-label">PERS CHARGE TO SICK</div>
                    <div class="bar-container">
                        <div class="bar-teacher" style="width: 66%;"></div>
                        <div class="bar-para" style="width: 34%; left: 66%;"></div>
                    </div>
                    <div class="bar-values">
                        T: 15,391 (94.2%) <br>
                        P: 8,000 (96.9%)
                    </div>
                </div>

                <div class="bar-row">
                    <div class="bar-label">ILLNESS/DEATH-OTHER</div>
                    <div class="bar-container">
                        <div class="bar-teacher" style="width: 61%;"></div>
                        <div class="bar-para" style="width: 39%; left: 61%;"></div>
                    </div>
                    <div class="bar-values">
                        T: 7,000 (92.4%) <br>
                        P: 4,500 (96.0%)
                    </div>
                </div>

                <div class="bar-row">
                    <div class="bar-label">APPROVED LOA</div>
                    <div class="bar-container">
                        <div class="bar-teacher" style="width: 62%;"></div>
                        <div class="bar-para" style="width: 38%; left: 62%;"></div>
                    </div>
                    <div class="bar-values">
                        T: 3,600 (97.7%) <br>
                        P: 2,200 (97.9%)
                    </div>
                </div>

                <div class="bar-row">
                    <div class="bar-label">IEP MEETING</div>
                    <div class="bar-container">
                        <div class="bar-teacher" style="width: 65%;"></div>
                        <div class="bar-para" style="width: 35%; left: 65%;"></div>
                    </div>
                    <div class="bar-values">
                        T: 1,824 (95.6%) <br>
                        P: 1,000 (96.0%)
                    </div>
                </div>

                <div class="bar-row">
                    <div class="bar-label">TESTING</div>
                    <div class="bar-container">
                        <div class="bar-teacher" style="width: 64%;"></div>
                        <div class="bar-para" style="width: 36%; left: 64%;"></div>
                    </div>
                    <div class="bar-values">
                        T: 1,450 (94.3%) <br>
                        P: 800 (95.6%)
                    </div>
                </div>
            </div>
        </div>

        <!-- Detailed Performance Tables -->
        <div class="two-columns">
            <!-- Teacher Performance -->
            <div class="table-section">
                <h3>üë®‚Äçüè´ Teacher Performance Details</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Absence Reason</th>
                            <th>Total</th>
                            <th>Fill Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>VACANCY</td>
                            <td>38,991</td>
                            <td><span class="badge badge-green">96.4%</span></td>
                        </tr>
                        <tr>
                            <td>ILLNESS-SELF</td>
                            <td>30,970</td>
                            <td><span class="badge badge-red">90.0%</span></td>
                        </tr>
                        <tr>
                            <td>TEMPORARY DUTY</td>
                            <td>24,600</td>
                            <td><span class="badge badge-green">96.8%</span></td>
                        </tr>
                        <tr>
                            <td>PERS CHARGE TO SICK</td>
                            <td>15,391</td>
                            <td><span class="badge badge-yellow">94.2%</span></td>
                        </tr>
                        <tr>
                            <td>ILLNESS/DEATH-OTHER</td>
                            <td>7,000</td>
                            <td><span class="badge badge-yellow">92.4%</span></td>
                        </tr>
                        <tr>
                            <td>APPROVED LOA</td>
                            <td>3,600</td>
                            <td><span class="badge badge-green">97.7%</span></td>
                        </tr>
                        <tr>
                            <td>IEP MEETING</td>
                            <td>1,824</td>
                            <td><span class="badge badge-green">95.6%</span></td>
                        </tr>
                        <tr>
                            <td>TESTING</td>
                            <td>1,450</td>
                            <td><span class="badge badge-yellow">94.3%</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Para Performance -->
            <div class="table-section">
                <h3>üë©‚Äçüéì Paraprofessional Performance Details</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Absence Reason</th>
                            <th>Total</th>
                            <th>Fill Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>VACANCY</td>
                            <td>20,200</td>
                            <td><span class="badge badge-green">97.8%</span></td>
                        </tr>
                        <tr>
                            <td>ILLNESS-SELF</td>
                            <td>15,000</td>
                            <td><span class="badge badge-yellow">93.0%</span></td>
                        </tr>
                        <tr>
                            <td>TEMPORARY DUTY</td>
                            <td>12,000</td>
                            <td><span class="badge badge-green">97.5%</span></td>
                        </tr>
                        <tr>
                            <td>PERS CHARGE TO SICK</td>
                            <td>8,000</td>
                            <td><span class="badge badge-green">96.9%</span></td>
                        </tr>
                        <tr>
                            <td>ILLNESS/DEATH-OTHER</td>
                            <td>4,500</td>
                            <td><span class="badge badge-green">96.0%</span></td>
                        </tr>
                        <tr>
                            <td>APPROVED LOA</td>
                            <td>2,200</td>
                            <td><span class="badge badge-green">97.9%</span></td>
                        </tr>
                        <tr>
                            <td>IEP MEETING</td>
                            <td>1,000</td>
                            <td><span class="badge badge-green">96.0%</span></td>
                        </tr>
                        <tr>
                            <td>TESTING</td>
                            <td>800</td>
                            <td><span class="badge badge-green">95.6%</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Key Insights -->
        <div class="chart-section">
            <h3>üîç Key Insights & Recommendations</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                <div style="background: #dbeafe; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                    <h4 style="color: #1e40af; font-weight: bold;">üìä Overall Performance</h4>
                    <p style="color: #1e40af; font-size: 14px; margin-top: 8px;">
                        Paraprofessionals consistently outperform teachers with a 2.3% higher overall fill rate (96.4% vs 94.1%).
                    </p>
                </div>
                <div style="background: #fef3c7; padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                    <h4 style="color: #92400e; font-weight: bold;">‚ö†Ô∏è Priority Areas</h4>
                    <p style="color: #92400e; font-size: 14px; margin-top: 8px;">
                        Focus on improving "ILLNESS-SELF" category - lowest fill rate for both groups, representing 23.7% of all absences.
                    </p>
                </div>
                <div style="background: #dcfce7; padding: 20px; border-radius: 8px; border-left: 4px solid #16a34a;">
                    <h4 style="color: #166534; font-weight: bold;">‚úÖ Success Stories</h4>
                    <p style="color: #166534; font-size: 14px; margin-top: 8px;">
                        "APPROVED LOA" and "VACANCY" categories show excellent performance with 97%+ fill rates across both groups.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function copyLink() {
            navigator.clipboard.writeText(window.location.href).then(function() {
                alert('‚úÖ Dashboard link copied to clipboard!');
            }).catch(function() {
                alert('‚ùå Unable to copy link. Please copy manually: ' + window.location.href);
            });
        }
    </script>
</body>
</html>
